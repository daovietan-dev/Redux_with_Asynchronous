{"ast":null,"code":"var _jsxFileName = \"D:\\\\Redux_with_Asynchronous\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useDispatch, useSelector } from 'react-redux';\nimport Cart from './components/Cart/Cart';\nimport Layout from './components/Layout/Layout';\nimport Products from './components/Shop/Products';\nimport { useEffect } from 'react';\nimport { fetchCartData, sendCartData } from './store/cart-action';\nimport Notification from './components/UI/Notification';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet isInitial = true;\nfunction App() {\n  _s();\n  const dispatch = useDispatch();\n  const showCart = useSelector(state => state.ui.cartIsVisible);\n  const cart = useSelector(state => state.cart);\n  const notification = useSelector(state => state.ui.notification);\n  useEffect(() => {\n    dispatch(fetchCartData());\n  }, []);\n  useEffect(prams => {\n    if (isInitial) {\n      isInitial = false;\n      return;\n    }\n\n    // sendCartData(cart) là một actionCreator nhưng lại return một hàm. Tuy nhiên, điều này là khả thi vì Redux chấp nhận nó và sẽ thực thi hàm trả về đó một lần nữa\n    if (cart.changed) {\n      dispatch(sendCartData(cart));\n    }\n  }, [cart, dispatch]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [notification && /*#__PURE__*/_jsxDEV(Notification, {\n      status: notification.status,\n      title: notification.title,\n      message: notification.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Layout, {\n      children: [showCart && /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(Products, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"+0lLiRKB8WOzaKnbCMqO0rhbWxM=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useDispatch","useSelector","Cart","Layout","Products","useEffect","fetchCartData","sendCartData","Notification","jsxDEV","_jsxDEV","Fragment","_Fragment","isInitial","App","_s","dispatch","showCart","state","ui","cartIsVisible","cart","notification","prams","changed","children","status","title","message","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Redux_with_Asynchronous/src/App.js"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux'\r\nimport Cart from './components/Cart/Cart'\r\nimport Layout from './components/Layout/Layout'\r\nimport Products from './components/Shop/Products'\r\nimport { useEffect } from 'react'\r\nimport { fetchCartData, sendCartData } from './store/cart-action'\r\nimport Notification from './components/UI/Notification'\r\n\r\nlet isInitial = true\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch()\r\n  const showCart = useSelector(state => state.ui.cartIsVisible)\r\n  const cart = useSelector(state => state.cart)\r\n  const notification = useSelector(state => state.ui.notification)\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchCartData())\r\n  }, [])\r\n  useEffect(\r\n    prams => {\r\n      if (isInitial) {\r\n        isInitial = false\r\n        return\r\n      }\r\n\r\n      // sendCartData(cart) là một actionCreator nhưng lại return một hàm. Tuy nhiên, điều này là khả thi vì Redux chấp nhận nó và sẽ thực thi hàm trả về đó một lần nữa\r\n      if (cart.changed) {\r\n        dispatch(sendCartData(cart))\r\n      }\r\n    },\r\n    [cart, dispatch]\r\n  )\r\n\r\n  return (\r\n    <>\r\n      {notification && (\r\n        <Notification\r\n          status={notification.status}\r\n          title={notification.title}\r\n          message={notification.message}\r\n        />\r\n      )}\r\n      <Layout>\r\n        {showCart && <Cart />}\r\n        <Products />\r\n      </Layout>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App\r\n"],"mappings":";;AAAA,SAASA,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,OAAOC,IAAI,MAAM,wBAAwB;AACzC,OAAOC,MAAM,MAAM,4BAA4B;AAC/C,OAAOC,QAAQ,MAAM,4BAA4B;AACjD,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,aAAa,EAAEC,YAAY,QAAQ,qBAAqB;AACjE,OAAOC,YAAY,MAAM,8BAA8B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEvD,IAAIC,SAAS,GAAG,IAAI;AAEpB,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAMC,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAC9B,MAAMiB,QAAQ,GAAGhB,WAAW,CAACiB,KAAK,IAAIA,KAAK,CAACC,EAAE,CAACC,aAAa,CAAC;EAC7D,MAAMC,IAAI,GAAGpB,WAAW,CAACiB,KAAK,IAAIA,KAAK,CAACG,IAAI,CAAC;EAC7C,MAAMC,YAAY,GAAGrB,WAAW,CAACiB,KAAK,IAAIA,KAAK,CAACC,EAAE,CAACG,YAAY,CAAC;EAEhEjB,SAAS,CAAC,MAAM;IACdW,QAAQ,CAACV,aAAa,CAAC,CAAC,CAAC;EAC3B,CAAC,EAAE,EAAE,CAAC;EACND,SAAS,CACPkB,KAAK,IAAI;IACP,IAAIV,SAAS,EAAE;MACbA,SAAS,GAAG,KAAK;MACjB;IACF;;IAEA;IACA,IAAIQ,IAAI,CAACG,OAAO,EAAE;MAChBR,QAAQ,CAACT,YAAY,CAACc,IAAI,CAAC,CAAC;IAC9B;EACF,CAAC,EACD,CAACA,IAAI,EAAEL,QAAQ,CACjB,CAAC;EAED,oBACEN,OAAA,CAAAE,SAAA;IAAAa,QAAA,GACGH,YAAY,iBACXZ,OAAA,CAACF,YAAY;MACXkB,MAAM,EAAEJ,YAAY,CAACI,MAAO;MAC5BC,KAAK,EAAEL,YAAY,CAACK,KAAM;MAC1BC,OAAO,EAAEN,YAAY,CAACM;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/B,CACF,eACDtB,OAAA,CAACP,MAAM;MAAAsB,QAAA,GACJR,QAAQ,iBAAIP,OAAA,CAACR,IAAI;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACrBtB,OAAA,CAACN,QAAQ;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA,eACT,CAAC;AAEP;AAACjB,EAAA,CAvCQD,GAAG;EAAA,QACOd,WAAW,EACXC,WAAW,EACfA,WAAW,EACHA,WAAW;AAAA;AAAAgC,EAAA,GAJzBnB,GAAG;AAyCZ,eAAeA,GAAG;AAAA,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}